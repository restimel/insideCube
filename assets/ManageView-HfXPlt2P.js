var ue=Object.defineProperty;var re=(r,t,s)=>t in r?ue(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var V=(r,t,s)=>re(r,typeof t!="symbol"?t+"":t,s);import{_ as M,c,o,a as e,d as z,b as x,f as k,F as Z,g as F,h as O,i as N,r as se,j as T,n as K,k as H,w as P,t as _,u as W,l as de,m as b,p as U,e as ve,q as pe,s as j,T as he,v as X,x as _e,y as fe,z as q,A as me,B as A,C as D}from"./index-MDkuAf7_.js";import{u as R,B as J}from"./panelSection-SV_cDNNf.js";const ge={},be={id:"startFlag",class:"icon",viewBox:"0 0 170 250"};function ye(r,t){return o(),c("symbol",be,t[0]||(t[0]=[e("path",{d:"M0,0 L10,0 30,244 20,245"},null,-1),e("path",{d:`M10,0
        Q50,10 60,25
        Q70,70 150,25
        Q100,130 15,152 Z`,class:"icon-stroke"},null,-1),e("path",{d:`M10,0
        Q50,10 60,25
        Q70,70 150,25
        Q100,130 25,150 Z`},null,-1)]))}const ne=M(ge,[["render",ye],["__scopeId","data-v-3ea554f7"]]),$e={},Ce={id:"endFlag",class:"icon",viewBox:"0 0 170 250"};function we(r,t){return o(),c("symbol",Ce,t[0]||(t[0]=[e("path",{d:"M0,0 L10,0 30,244 20,245"},null,-1),e("path",{d:`M10,0
        Q30,10 50,5
        Q70,0 90,10
        Q110,20 130,15
        Q150,10 170,20
        L170,140
        Q150,130 130,135
        Q110,140 90,130
        Q70,120 50,125
        Q30,130 10,120 Z`,fill:"none",stroke:"currentColor","stroke-width":"1"},null,-1),e("path",{d:"M10,0 Q30,10 50,5 L50,33 Q30,38 10,28 Z"},null,-1),e("path",{d:"M50,5 Q70,0 90,10 L90,38 Q70,28 50,33 Z",fill:"transparent"},null,-1),e("path",{d:"M90,10 Q110,20 130,15 L130,43 Q110,48 90,38 Z"},null,-1),e("path",{d:"M130,15 Q150,10 170,20 L170,48 Q150,38 130,43 Z",fill:"transparent"},null,-1),e("path",{d:"M10,28 Q30,38 50,33 L50,61 Q30,66 10,56 Z",fill:"transparent"},null,-1),e("path",{d:"M50,33 Q70,28 90,38 L90,66 Q70,56 50,61 Z"},null,-1),e("path",{d:"M90,38 Q110,48 130,43 L130,71 Q110,76 90,66 Z",fill:"transparent"},null,-1),e("path",{d:"M130,43 Q150,38 170,48 L170,76 Q150,66 130,71 Z"},null,-1),e("path",{d:"M10,56 Q30,66 50,61 L50,89 Q30,94 10,84 Z"},null,-1),e("path",{d:"M50,61 Q70,56 90,66 L90,94 Q70,84 50,89 Z",fill:"transparent"},null,-1),e("path",{d:"M90,66 Q110,76 130,71 L130,99 Q110,104 90,94 Z"},null,-1),e("path",{d:"M130,71 Q150,66 170,76 L170,104 Q150,94 130,99 Z",fill:"transparent"},null,-1),e("path",{d:"M10,84 Q30,94 50,89 L50,117 Q30,122 10,112 Z",fill:"transparent"},null,-1),e("path",{d:"M50,89 Q70,84 90,94 L90,122 Q70,112 50,117 Z"},null,-1),e("path",{d:"M90,94 Q110,104 130,99 L130,127 Q110,132 90,122 Z",fill:"transparent"},null,-1),e("path",{d:"M130,99 Q150,94 170,104 L170,132 Q150,122 130,127 Z"},null,-1),e("path",{d:"M10,112 Q30,122 50,117 L50,125 Q30,130 10,120 Z"},null,-1),e("path",{d:"M50,117 Q70,112 90,122 L90,130 Q70,120 50,125 Z",fill:"transparent"},null,-1),e("path",{d:"M90,122 Q110,132 130,127 L130,135 Q110,140 90,130 Z"},null,-1),e("path",{d:"M130,127 Q150,122 170,132 L170,140 Q150,130 130,135 Z",fill:"transparent"},null,-1)]))}const le=M($e,[["render",we],["__scopeId","data-v-b53b83f0"]]),ke=z({__name:"symbolsSvg",setup(r){return(t,s)=>(o(),c("defs",null,[s[0]||(s[0]=e("symbol",{id:"hole",viewBox:"0 0 11 11"},[e("circle",{cx:"5",cy:"5",r:"4",class:"hole"})],-1)),x(ne),x(le)]))}}),oe=M(ke,[["__scopeId","data-v-025cbb5d"]]),xe=["x","y"],Qe=["x","y"],Se=["x","y"],ie=z({__name:"cellItemsSvg",props:{cell:{},x:{},y:{},z:{},start:{},end:{}},setup(r){const t=r,s=k(()=>{const n=t.start;return!!n&&n.z===t.z&&n.x===t.x&&n.y===t.y}),i=k(()=>{const n=t.end;return!!n&&n.z===t.z&&n.x===t.x&&n.y===t.y});return(n,d)=>(o(),c(Z,null,[n.cell.b?(o(),c("use",{key:0,href:"#hole",x:n.x*15,y:n.y*15,width:10,height:10},null,8,xe)):F("",!0),s.value?(o(),c("use",{key:1,href:"#startFlag",x:n.x*15,y:n.y*15,width:10,height:10},null,8,Qe)):F("",!0),i.value?(o(),c("use",{key:2,href:"#endFlag",x:n.x*15,y:n.y*15,width:10,height:10},null,8,Se)):F("",!0)],64))}}),Me=["width","height","viewBox"],ze=["width","height"],Le={key:0,class:"level-cell-container"},Te=["x","y","width","height"],Ze=["x","y"],Be=z({__name:"levelPreview",props:{cells:{},index:{},showOnly:{},start:{},end:{},size:{}},setup(r){const t=r,s=k(()=>t.size??100),i=k(()=>t.cells.length),n=k(()=>t.cells[0].length),d=k(()=>{const u=t.showOnly,v=!u,g=t.index,h=new Map(Array.from({length:i.value},(f,m)=>[m,new Map(Array.from({length:n.value},(C,y)=>[y,v]))]));return u&&u.forEach(([f,m,C])=>{var y;C===g&&((y=h.get(f))==null||y.set(m,!0))}),h});return(u,v)=>(o(),c("svg",{class:"level-preview",xmlns:"http://www.w3.org/2000/svg",width:s.value,height:s.value,viewBox:`-6 -6 ${15*n.value+6} ${15*i.value+6}`},[x(oe),e("rect",{class:"level-background",x:"-3",y:"-3",width:15*n.value,height:15*i.value},null,8,ze),(o(!0),c(Z,null,O(u.cells,(g,h)=>(o(),c("g",{key:h},[(o(!0),c(Z,null,O(g,(f,m)=>{var C,y,Q,B;return o(),c("g",{key:`cell-${m}`},[(C=d.value.get(h))!=null&&C.get(m)?(o(),c("g",Le,[e("rect",{class:"level-cell",x:m*15,y:h*15,width:10+(f.r?5:0),height:10+(f.d?5:0)},null,8,Te),f.r&&f.d&&(!((y=g[m+1])!=null&&y.d)||!((B=(Q=u.cells[h+1])==null?void 0:Q[m])!=null&&B.r))?(o(),c("rect",{key:0,class:"level-corner",x:m*15+11,y:h*15+11,width:5,height:5},null,8,Ze)):F("",!0),x(ie,{cell:f,x:m,y:h,z:u.index,start:u.start,end:u.end},null,8,["cell","x","y","z","start","end"])])):F("",!0)])}),128))]))),128))],8,Me))}}),Y=M(Be,[["__scopeId","data-v-f2d0434a"]]),Ve=z({__name:"dialogModal",props:{open:{type:Boolean}},emits:["close","maskClick"],setup(r,{emit:t}){const s=t;return(i,n)=>i.open?(o(),c("aside",{key:0,class:"mask",onClick:n[2]||(n[2]=N(d=>s("close"),["stop"]))},[e("aside",{class:"dialog",onClick:n[1]||(n[1]=N(()=>{},["stop"]))},[e("button",{class:"close",onClick:n[0]||(n[0]=N(d=>s("close"),["stop","prevent"]))}," × "),se(i.$slots,"default",{},void 0)])])):F("",!0)}}),ae=M(Ve,[["__scopeId","data-v-4523db3a"]]),Fe={class:"cube-preview"},Ee={class:"cube-preview"},Pe=z({__name:"cubePreview",props:{showOnly:{}},setup(r){const t=R(),s=T(!1),i=k(()=>t.activeCube),n=k(()=>{var u;return{"--cube-color":(u=i.value)==null?void 0:u.color}});function d(){s.value=!1}return(u,v)=>{var g;return o(),c("section",{style:K(n.value),class:"cube-preview-container",onClick:v[0]||(v[0]=h=>s.value=!0)},[e("div",Fe,[(o(!0),c(Z,null,O((g=i.value)==null?void 0:g.levels,(h,f)=>{var m,C;return o(),H(Y,{key:`level-preview-${f}`,cells:h.cells,index:f,start:(m=i.value)==null?void 0:m.start,end:(C=i.value)==null?void 0:C.end,size:50,showOnly:u.showOnly},null,8,["cells","index","start","end","showOnly"])}),128))]),x(ae,{open:s.value,onClose:d,onMaskClick:d},{default:P(()=>{var h,f;return[e("h2",null,_((h=i.value)==null?void 0:h.name),1),e("div",Ee,[(o(!0),c(Z,null,O((f=i.value)==null?void 0:f.levels,(m,C)=>{var y,Q;return o(),H(Y,{key:`level-preview-${C}`,cells:m.cells,index:C,start:(y=i.value)==null?void 0:y.start,end:(Q=i.value)==null?void 0:Q.end,size:150,showOnly:u.showOnly},null,8,["cells","index","start","end","showOnly"])}),128))])]}),_:1},8,["open"])],4)}}}),Ne=M(Pe,[["__scopeId","data-v-dbcb4be9"]]),Oe={},Re={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",viewBox:"0 0 512 512",fill:"currentColor"};function Ue(r,t){return o(),c("svg",Re,t[0]||(t[0]=[e("path",{class:"st0",d:`M255.992,0.008C114.626,0.008,0,114.626,0,256s114.626,255.992,255.992,255.992
		C397.391,511.992,512,397.375,512,256S397.391,0.008,255.992,0.008z M300.942,373.528c-10.355,11.492-16.29,18.322-27.467,29.007
		c-16.918,16.177-36.128,20.484-51.063,4.516c-21.467-22.959,1.048-92.804,1.597-95.449c4.032-18.564,12.08-55.667,12.08-55.667
		s-17.387,10.644-27.709,14.419c-7.613,2.782-16.225-0.871-18.354-8.234c-1.984-6.822-0.404-11.161,3.774-15.822
		c10.354-11.484,16.289-18.314,27.467-28.999c16.934-16.185,36.128-20.483,51.063-4.524c21.467,22.959,5.628,60.732,0.064,87.497
		c-0.548,2.653-13.742,63.627-13.742,63.627s17.387-10.645,27.709-14.427c7.628-2.774,16.241,0.887,18.37,8.242
		C306.716,364.537,305.12,368.875,300.942,373.528z M273.169,176.123c-23.886,2.096-44.934-15.564-47.031-39.467
		c-2.08-23.878,15.58-44.934,39.467-47.014c23.87-2.097,44.934,15.58,47.015,39.458
		C314.716,152.979,297.039,174.043,273.169,176.123z`},null,-1)]))}const He=M(Oe,[["render",Ue]]),We={class:"info-section"},Ae={class:"stats-grid"},De={class:"stat-item"},je={class:"stat-label"},qe={class:"stat-value"},Ke={class:"stat-item"},Ge={class:"stat-value"},Je={class:"stat-item"},Xe={class:"stat-value"},Ye={class:"stat-item"},Ie={class:"stat-value"},et={class:"info-section"},tt={class:"preview-container"},st={class:"info-section"},nt={class:"history-actions"},lt=["disabled"],ot=["disabled"],it={class:"history-list"},at=["onClick"],ct={class:"history-time"},ut={class:"history-action"},rt=z({__name:"infoPanel",setup(r){const{t}=W(),s=R(),i=k(()=>s.history),n=k(()=>s.historyIndex>0),d=k(()=>s.historyIndex<s.history.length-1);function u(m){s.undo(m)}function v(){s.undo()}function g(){s.redo()}const h=m=>m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),f=de({complexity:"Medium",cellCount:36,filledCells:42,density:k(()=>Math.round(f.filledCells/f.cellCount*100))});return(m,C)=>(o(),c(Z,null,[e("div",We,[e("h3",null,_(b(t)("manage.statistics")),1),e("div",Ae,[e("div",De,[e("div",je,_(b(t)("fields.complexity")),1),e("div",qe,_(f.complexity),1)]),e("div",Ke,[C[0]||(C[0]=e("div",{class:"stat-label"},"Cells?:",-1)),e("div",Ge,_(f.cellCount),1)]),e("div",Je,[C[1]||(C[1]=e("div",{class:"stat-label"},"Filled?:",-1)),e("div",Xe,_(f.filledCells),1)]),e("div",Ye,[C[2]||(C[2]=e("div",{class:"stat-label"},"Density?:",-1)),e("div",Ie,_(f.density)+"%",1)])])]),e("div",et,[e("h3",null,_(b(t)("manage.preview")),1),e("div",tt,[x(Ne)])]),e("div",st,[e("h3",null,_(b(t)("manage.history")),1),e("div",nt,[e("button",{onClick:v,disabled:!n.value,class:"history-btn primary-button"},_(b(t)("actions.undo")),9,lt),e("button",{onClick:g,disabled:!d.value,class:"history-btn primary-button"},_(b(t)("actions.redo")),9,ot)]),e("div",it,[(o(!0),c(Z,null,O(i.value.slice().reverse(),(y,Q)=>(o(),c("div",{key:Q,class:U(["history-item",{active:i.value.length-Q-1===b(s).historyIndex}]),onClick:B=>u(i.value.length-Q-1)},[e("span",ct,_(h(y.timestamp)),1),e("span",ut,[ve(_(b(t)(y.description,y.details))+" ",1),y.notUndoable?(o(),H(He,{key:0,title:b(t)("information.notUndoable"),class:"inline-icon"},null,8,["title"])):F("",!0)])],10,at))),128))])])],64))}}),dt=M(rt,[["__scopeId","data-v-78a7dd34"]]),vt={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},pt=z({__name:"IconEndFlag",setup(r){return(t,s)=>(o(),c("svg",vt,[e("defs",null,[x(le)]),s[0]||(s[0]=e("use",{href:"#endFlag",width:"20",height:"20"},null,-1))]))}}),ht={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},_t=z({__name:"IconStartFlag",setup(r){return(t,s)=>(o(),c("svg",ht,[e("defs",null,[x(ne)]),s[0]||(s[0]=e("use",{href:"#startFlag",width:"20",height:"20"},null,-1))]))}}),ft={class:"tools-grid"},mt=["onClick"],gt={key:0,class:"tool-icon"},bt={class:"tool-name"},yt=z({__name:"cubeTools",setup(r){const t=[{id:"hole",name:"tools.hole",icon:"⬤"},{id:"stairs",name:"Stairs",icon:"≣"},{id:"start",name:"tools.start",icon:_t},{id:"finish",name:"tools.finish",icon:pt},{id:"delete",name:"tools.delete",icon:"×"}],{t:s}=W(),i=R(),n=k(()=>i.tool);function d(u){i.tool=u}return(u,v)=>(o(),c("div",ft,[(o(),c(Z,null,O(t,g=>e("button",{key:g.id,class:U(["tool-btn",{active:n.value===g.id}]),onClick:h=>d(g.id)},[typeof g.icon=="string"?(o(),c("span",gt,_(g.icon),1)):(o(),H(pe(g.icon),{key:1,class:"tool-icon"})),e("span",bt,_(b(s)(g.name)),1)],10,mt)),64))]))}}),$t=M(yt,[["__scopeId","data-v-5c65eb48"]]),Ct=["aria-label"],wt={class:"toggle-field-label"},kt={key:0,class:"toggle-field-content"},xt=z({__name:"toggleField",props:{label:{},open:{type:Boolean,default:!1}},emits:["toggle"],setup(r,{emit:t}){const s=r,i=t,n=T(s.open);j(()=>s.open,u=>{n.value=u});const d=()=>{const u=!n.value;n.value=u,i("toggle",u)};return(u,v)=>(o(),c("div",{class:U(["toggle-field",{expanded:n.value,collapsed:!n.value}])},[e("div",{class:"toggle-field-header",onClick:N(d,["prevent","stop"])},[e("button",{type:"button",class:"toggle-button","aria-label":n.value?"Hide content":"Show content",onClick:N(d,["prevent","stop"])},v[0]||(v[0]=[e("span",{class:"caret"},null,-1)]),8,Ct),e("label",wt,_(u.label),1)]),x(he,{name:"scale-fade"},{default:P(()=>[n.value?(o(),c("div",kt,[se(u.$slots,"default",{},void 0,!0)])):F("",!0)]),_:3})],2))}}),Qt=M(xt,[["__scopeId","data-v-d3099996"]]),St=z({__name:"cubeLogo",props:{cube:{}},setup(r){const t=r,s=k(()=>t.cube),i=k(()=>{var n;return((n=s.value)==null?void 0:n.name.charAt(0))||"?"});return(n,d)=>s.value?(o(),c("div",{key:0,class:"cube-logo",style:K(`--color: ${s.value.color}`)},_(i.value),5)):F("",!0)}}),Mt=M(St,[["__scopeId","data-v-87f2d1bb"]]),zt={class:"cube-summary"},Lt={class:"cube-info"},Tt={class:"cube-name"},Zt={key:0,class:"cube-details"},Bt=z({__name:"cubeSummary",props:{name:{}},setup(r){const t=r,{t:s}=W(),i=R(),n=k(()=>{const d=t.name;if(d)return i.getCubeByName(d)});return(d,u)=>{var v,g,h,f;return o(),c("div",zt,[x(Mt,{cube:n.value},null,8,["cube"]),e("div",Lt,[e("div",Tt,_(((v=n.value)==null?void 0:v.name)||b(s)("cube.noSelection")),1),n.value?(o(),c("div",Zt,_(b(s)("cube.levels",{count:n.value.levels.length,sizeCol:((h=(g=n.value.levels[0])==null?void 0:g.cells[0])==null?void 0:h.length)??0,sizeRow:((f=n.value.levels[0])==null?void 0:f.cells.length)??0})),1)):F("",!0)])])}}}),I=M(Bt,[["__scopeId","data-v-1d67a648"]]),Vt=r=>r!=null&&typeof r=="object"||!1,Ft=r=>Vt(r)&&typeof r.nodeType=="number"&&[1,2,3,4,5,6,7,8,9,10,11].some(t=>r.nodeType===t)||!1,ee=r=>Ft(r)&&r.nodeType===1||!1,Et=r=>typeof r=="function"||!1,Pt="1.0.7",te="PositionObserver Error";class ce{constructor(t,s){V(this,"entries");V(this,"_tick");V(this,"_root");V(this,"_callback");V(this,"observe",t=>{if(!ee(t))throw new Error(`${te}: ${t} is not an instance of Element.`);this._root.contains(t)&&this._new(t).then(({boundingClientRect:s})=>{if(s&&!this.getEntry(t)){const{clientWidth:i,clientHeight:n}=this._root;this.entries.set(t,{target:t,boundingClientRect:s,clientWidth:i,clientHeight:n})}this._tick||(this._tick=requestAnimationFrame(this._runCallback))})});V(this,"unobserve",t=>{this.entries.has(t)&&this.entries.delete(t)});V(this,"_runCallback",()=>{if(!this.entries.size)return;const{clientWidth:t,clientHeight:s}=this._root,i=new Promise(n=>{const d=[];this.entries.forEach(({target:u,boundingClientRect:v,clientWidth:g,clientHeight:h})=>{this._root.contains(u)&&this._new(u).then(({boundingClientRect:f,isIntersecting:m})=>{if(!m)return;const{left:C,top:y}=f;if(v.top!==y||v.left!==C||g!==t||h!==s){const Q={target:u,boundingClientRect:f,clientHeight:s,clientWidth:t};this.entries.set(u,Q),d.push(Q)}})}),n(d)});this._tick=requestAnimationFrame(async()=>{const n=await i;n.length&&this._callback(n,this),this._runCallback()})});V(this,"_new",t=>new Promise(s=>{new IntersectionObserver(([i],n)=>{n.disconnect(),s(i)}).observe(t)}));V(this,"getEntry",t=>this.entries.get(t));V(this,"disconnect",()=>{cancelAnimationFrame(this._tick),this.entries.clear(),this._tick=0});if(!Et(t))throw new Error(`${te}: ${t} is not a function.`);this.entries=new Map,this._callback=t,this._root=ee(s==null?void 0:s.root)?s.root:document==null?void 0:document.documentElement,this._tick=0}}V(ce,"version",Pt);const Nt={},Ot={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",viewBox:"0 0 16 16",fill:"currentColor"};function Rt(r,t){return o(),c("svg",Ot,t[0]||(t[0]=[e("path",{d:"M0 6L8 14L16 6V4H0V6Z",fill:"#000000"},null,-1)]))}const Ut=M(Nt,[["render",Rt]]),Ht=z({__name:"cubeSelect",props:{value:{}},emits:["change"],setup(r,{emit:t}){const s=r,i=t,n=R(),d=X("cube-select-input"),u=X("cube-select-main"),v=T(-1),g=T(0),h=T(!1);j(h,()=>{var p;h.value&&((p=d.value)==null||p.focus())});function f(){g.value++}let m;_e(()=>{m=new ce(()=>{f()}),u.value&&m.observe(u.value)}),fe(()=>{m==null||m.disconnect()});const C=k(()=>{var l;g.value;const p=(l=u.value)==null?void 0:l.getBoundingClientRect();return p?`
        --left: ${p.left}px;
        --right: ${p.right}px;
        --bottom: ${p.bottom}px;
        --top: ${p.top}px;
        --width: ${p.width}px;
        --height: ${p.height}px;
    `:""}),y=k(()=>Array.from(n.cubes.keys()));let Q=0,B=!1;function $(p=!h.value,l=!1,a=!1){if(clearTimeout(Q),!(B&&!a)&&(l||(B=!0,setTimeout(()=>{var w;B=!1,h.value&&((w=d.value)==null||w.focus())},30)),p!==h.value)){if(l){Q=setTimeout($,20,p,!1,a);return}h.value=p,p||(v.value=-1)}}function L(p){p||(p=y.value[v.value]),p&&p!==s.value&&(i("change",p),$(!1,!1,!0))}function E(){let p=v.value+1;p>=y.value.length&&(p=0),v.value=p}function S(){let p=v.value-1;p<0&&(p=y.value.length-1),v.value=p}return(p,l)=>(o(),c("div",{class:"select",onClick:l[8]||(l[8]=a=>$(!0))},[e("input",{class:"cube-select-input",ref:"cube-select-input",onFocus:l[0]||(l[0]=a=>$(!0,!0)),onBlur:l[1]||(l[1]=a=>$(!1,!0)),onKeydown:[q(E,["down"]),q(S,["up"]),l[2]||(l[2]=q(N(a=>L(),["prevent"]),["enter"])),l[3]||(l[3]=q(a=>$(!1),["escape"]))]},null,544),e("div",{class:"cube-select-main",ref:"cube-select-main",onClick:l[4]||(l[4]=N(()=>{},["stop"])),onMousedown:l[5]||(l[5]=N(a=>$(),["stop"]))},[x(I,{name:p.value??void 0},null,8,["name"]),x(Ut,{class:"caret"})],544),(o(),H(me,{to:"body"},[h.value?(o(),c("section",{key:0,class:"select-list",style:K(C.value),onClick:l[6]||(l[6]=N(a=>$(!0),["stop"])),onMousedown:l[7]||(l[7]=N(a=>$(!0),["stop"]))},[(o(!0),c(Z,null,O(y.value,(a,w)=>(o(),H(I,{key:`select-${a}-${w}`,class:U({"select-item":!0,selected:a===p.value,active:w===v.value}),name:a,onClick:N(G=>L(a),["stop"])},null,8,["class","name","onClick"]))),128))],36)):F("",!0)]))]))}}),Wt=M(Ht,[["__scopeId","data-v-00d5ed78"]]),At={class:"config-section"},Dt={class:"config-section"},jt={class:"action-buttons"},qt={class:"modal-footer"},Kt={class:"config-section"},Gt={class:"form-group"},Jt={for:"cubeName"},Xt=["placeholder"],Yt={class:"form-group"},It={for:"cubeColor"},es={class:"color-picker-wrapper"},ts={class:"color-value",for:"cubeColor"},ss={class:"form-group"},ns={for:"cubeLevelSize"},ls={class:"form-group"},os={for:"cubeRowSize"},is={class:"form-group"},as={for:"cubeCellSize"},cs=z({__name:"configurationPanel",setup(r){var E,S,p;const{t}=W(),s=R(),i=k(()=>s.activeCube),n=T(((E=i.value)==null?void 0:E.name)||""),d=T(((S=i.value)==null?void 0:S.color)||"#000000"),u=T(s.dimensions.levels),v=T(s.dimensions.rows),g=T(s.dimensions.cells),h=T(!1);j(()=>i.value,l=>{l&&(n.value=l.name,d.value=l.color)},{immediate:!0}),j(()=>s.dimensions,l=>{l&&(u.value=l.levels,v.value=l.rows,g.value=l.cells)},{immediate:!0});function f(l){h.value=l}const m=(l,a)=>{s.updateCubeProperty(l,a)};function C(l,a){s.updateCubeSize(l,a)}const y=T(!1),Q=T((p=i.value)==null?void 0:p.name);function B(l){Q.value=l}function $(){const l=Q.value;s.selectCube(l,!0)&&(s.addToHistory("history.loadCube",{name:l}),y.value=!1)}const L=()=>{var a;const l=(a=s.activeCube)==null?void 0:a.name;s.createNewCube(),s.addToHistory("history.reset",{name:l})};return(l,a)=>(o(),c(Z,null,[e("div",At,[e("h3",null,_(b(t)("manage.editingTools")),1),x($t)]),e("div",Dt,[e("h3",null,_(b(t)("manage.actions")),1),e("div",jt,[e("button",{onClick:a[0]||(a[0]=w=>y.value=!0),class:"action-btn load-btn"},_(b(t)("actions.load")),1),e("button",{onClick:L,class:"action-btn reset-btn"},_(b(t)("actions.reset")),1)]),x(ae,{open:y.value,onClose:a[2]||(a[2]=w=>y.value=!1),onMaskClick:a[3]||(a[3]=w=>y.value=!1)},{default:P(()=>[x(Wt,{class:"select-cube-loader",value:Q.value,onChange:B},null,8,["value"]),e("footer",qt,[e("button",{onClick:$,class:"primary-button"},_(b(t)("actions.load")),1),e("button",{onClick:a[1]||(a[1]=w=>y.value=!1)},_(b(t)("actions.cancel")),1)])]),_:1},8,["open"])]),e("div",Kt,[e("h3",null,_(b(t)("manage.properties")),1),e("div",Gt,[e("label",Jt,_(b(t)("fields.name")),1),A(e("input",{id:"cubeName","onUpdate:modelValue":a[4]||(a[4]=w=>n.value=w),type:"text",placeholder:b(t)("fields.placeholderName"),onChange:a[5]||(a[5]=w=>m("name",n.value))},null,40,Xt),[[D,n.value]])]),e("div",Yt,[e("label",It,_(b(t)("fields.color")),1),e("div",es,[A(e("input",{id:"cubeColor","onUpdate:modelValue":a[6]||(a[6]=w=>d.value=w),type:"color",onChange:a[7]||(a[7]=w=>m("color",d.value))},null,544),[[D,d.value]]),e("label",ts,_(d.value),1)])]),x(Qt,{label:b(t)("manage.moreConfiguration"),class:"additionalSettings",open:h.value,onToggle:f},{default:P(()=>[e("div",ss,[e("label",ns,_(b(t)("fields.levelSize")),1),A(e("input",{id:"cubeLevelSize","onUpdate:modelValue":a[8]||(a[8]=w=>u.value=w),type:"number",min:"1",onChange:a[9]||(a[9]=w=>C("levels",u.value))},null,544),[[D,u.value]])]),e("div",ls,[e("label",os,_(b(t)("fields.rowSize")),1),A(e("input",{id:"cubeRowSize","onUpdate:modelValue":a[10]||(a[10]=w=>v.value=w),type:"number",min:"1",onChange:a[11]||(a[11]=w=>C("rows",v.value))},null,544),[[D,v.value]])]),e("div",is,[e("label",as,_(b(t)("fields.cellSize")),1),A(e("input",{id:"cubeCellSize","onUpdate:modelValue":a[12]||(a[12]=w=>g.value=w),type:"number",min:"1",onChange:a[13]||(a[13]=w=>C("cells",g.value))},null,544),[[D,g.value]])])]),_:1},8,["label","open"])])],64))}}),us=M(cs,[["__scopeId","data-v-0288e206"]]),rs={class:"level-name"},ds=["placeholder"],vs=["viewBox"],ps=["onClick"],hs=["x","y"],_s=["x","y","onClick"],fs=["x","y","onClick"],ms=["x","y"],gs=["width","height"],bs=z({__name:"levelEditor",props:{index:{}},setup(r){var B;const{t}=W(),s=R(),i=r,n=k(()=>s.activeCube),d=k(()=>{var $;return($=n.value)==null?void 0:$.levels[i.index]}),u=k(()=>{var $;return{"--cube-color":($=n.value)==null?void 0:$.color}}),v=T(((B=d.value)==null?void 0:B.name)??"");j(d,()=>{var $;v.value=(($=d.value)==null?void 0:$.name)??""});function g(){s.updateLevelName(i.index,v.value)}const h=k(()=>s.dimensions.rows),f=k(()=>s.dimensions.cells);function m($,L){s.toolCell(i.index,$,L)}function C($,L){s.toggleWall(i.index,$,L,"r")}function y($,L){s.toggleWall(i.index,$,L,"d")}function Q($,L,E){const S=d.value;return!$.r||!$.d||!S.cells[L+1][E].r||!S.cells[L][E+1].d}return($,L)=>(o(),c("div",{class:"level-editor",style:K(u.value)},[e("div",rs,[A(e("input",{"onUpdate:modelValue":L[0]||(L[0]=E=>v.value=E),type:"text",placeholder:b(t)("cube.levelName"),onChange:g},null,40,ds),[[D,v.value]])]),d.value?(o(),c("svg",{key:0,class:"level-grid",xmlns:"http://www.w3.org/2000/svg",width:200,height:200,viewBox:`-6 -6 ${15*f.value+6} ${15*h.value+6}`},[x(oe),(o(!0),c(Z,null,O(d.value.cells,(E,S)=>(o(),c("g",{key:S},[(o(!0),c(Z,null,O(E,(p,l)=>{var a,w;return o(),c("g",{key:`cell-${l}`},[e("g",{class:"level-cell",onClick:G=>m(S,l)},[e("rect",{x:l*15,y:S*15,width:"10",height:"10"},null,8,hs),x(ie,{cell:p,x:l,y:S,z:$.index,start:(a=n.value)==null?void 0:a.start,end:(w=n.value)==null?void 0:w.end},null,8,["cell","x","y","z","start","end"])],8,ps),e("rect",{class:U(["level-right-wall",{wall:!p.r}]),x:l*15+10,y:S*15,width:"5",height:"10",onClick:G=>C(S,l)},null,10,_s),e("rect",{class:U(["level-down-wall",{wall:!p.d}]),x:l*15,y:S*15+10,width:"10",height:"5",onClick:G=>y(S,l)},null,10,fs),e("rect",{class:U(["level-corner",{wall:Q(p,S,l)}]),x:l*15+10,y:S*15+10,width:"5",height:"5"},null,10,ms)])}),128))]))),128)),e("rect",{class:"border",x:"-3",y:"-3",width:15*f.value,height:15*h.value},null,8,gs)],8,vs)):F("",!0)],4))}}),ys=M(bs,[["__scopeId","data-v-0924995a"]]),$s={class:"editor-content"},Cs={key:0,class:"cube-editor-placeholder",ref:"editorContainer"},ws={key:1,class:"no-cube"},ks=z({__name:"editorPanel",setup(r){const{t}=W(),s=R(),i=k(()=>s.activeCube);return(n,d)=>(o(),c("div",$s,[i.value?(o(),c("div",Cs,[(o(!0),c(Z,null,O(i.value.levels,(u,v)=>(o(),H(ys,{key:`level-editor-${v}`,index:v},null,8,["index"]))),128))],512)):(o(),c("div",ws,_(b(t)("cube.noSelection")),1))]))}}),xs={class:"cube-manager"},Qs=z({__name:"ManageView",setup(r){const{t}=W(),s=R(),i=k(()=>s.activeCube),n=()=>{const d=s.activeCube;d&&(s.setCube(d),s.addToHistory("history.saveCube",{name:d.name},!0))};return(d,u)=>(o(),c("div",xs,[x(J,{class:"config-panel panel-aside"},{header:P(()=>[e("h2",null,_(b(t)("manage.configuration")),1)]),default:P(()=>[x(us)]),_:1}),x(J,{class:"editing-area"},{header:P(()=>{var v;return[e("h2",null,_(((v=i.value)==null?void 0:v.name)||b(t)("cube.noSelection")),1)]}),footer:P(()=>[e("button",{onClick:n,class:"primary-button"},_(b(t)("actions.save")),1)]),default:P(()=>[x(ks,{class:"editor-content"})]),_:1}),x(J,{class:"info-panel panel-aside"},{header:P(()=>[e("h2",null,_(b(t)("manage.information")),1)]),default:P(()=>[x(dt)]),_:1})]))}}),Ls=M(Qs,[["__scopeId","data-v-bc9ebcbd"]]);export{Ls as default};
